<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT技术</title>
    <script src="./js/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
</head>

<body>
    <header style="position: fixed; width: 100%; z-index: 999;"></header>
    <section style="position: relative; top: 100px;">
        <ul class="nav justify-content-center">
            <li class="nav-item nav-it">
                <a class="nav-link active" aria-current="page" href="#">前端</a>
            </li>
            <li class="nav-item nav-it">
                <a class="nav-link" href="#">后端</a>
            </li>
            <li class="nav-item nav-it">
                <a class="nav-link" href="#">测试</a>
            </li>
            <li class="nav-item nav-it">
                <a class="nav-link" href="#">算法</a>
            </li>
        </ul>

        <div class="content-it">


        </div>


    </section>
    <style>
        .content-it {
            width: 90%;
            margin: 0 auto;
        }
    </style>
    <script>
        $("header").load("header.html")
        $.get(
            "article/get?article_type=1",
            function (data) {
                data.msg.forEach(element => {
                    let urlname = element.article_cover
                    let auto = element.article_auth
                    let urlid = element.article_id
                    let title = element.article_title
                    let desc = element.article_desc
                    let date = new Date(element.publish_time)
                    var year = date.getFullYear();   // 获取年份，例如 2024
                    var month = date.getMonth() + 1; // 获取月份，注意月份是从 0 开始计数的，所以要加 1
                    var day = date.getDate();        // 获取日期，例如 10
                    var hours = date.getHours();     // 获取小时，例如 11
                    var minutes = date.getMinutes(); // 获取分钟，例如 55
                    var seconds = date.getSeconds(); // 获取秒数，例如 56
                    // 如果你想以特定格式显示日期和时间，可以使用以下方法
                    var formattedDateTime = date.toLocaleString(); // 使用本地格式显示日期和时间
                    $(".content-it").append(`
                            <a href="/blog.html?id=${urlid}" style="text-decoration: none;">
                                <div class="card mb-3">
                                    <div class="row g-0">
                                        <div class="col-md-4">
                                            <img src="${urlname}" class="img-fluid rounded-start" alt="..." id="indeximg">
                                        </div>
                                        <div class="col-md-8">
                                            <div class="card-body">
                                                <h5 class="card-title">${title}</h5>
                                                <p class="card-text">${desc}</p>
                                                <p class="card-text"><small class="text-muted">作者：${auto}
                                                        发布时间：${formattedDateTime}</small>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>

                        `)

                });
            }
        )
        function getnum(a) {
            if (a == "前端") {
                type = 1
            } else if (a == "后端") {
                type = 2
            } else if (a == "测试") {
                type = 3
            } else if (a == "算法") {
                type = 4
            }
            return type
        }
        $(".nav-it").click(function () {
            $(".content-it").html("")
            //获取请求对象
            var name = $(this).text().trim()
            $.get(
                "article/get?article_type=" + getnum(name),
                function (data) {
                    data.msg.forEach(element => {
                        let urlname = element.article_cover
                        let auto = element.article_auth
                        let urlid = element.article_id
                        let title = element.article_title
                        let desc = element.article_desc
                        let date = new Date(element.publish_time)
                        var year = date.getFullYear();   // 获取年份，例如 2024
                        var month = date.getMonth() + 1; // 获取月份，注意月份是从 0 开始计数的，所以要加 1
                        var day = date.getDate();        // 获取日期，例如 10
                        var hours = date.getHours();     // 获取小时，例如 11
                        var minutes = date.getMinutes(); // 获取分钟，例如 55
                        var seconds = date.getSeconds(); // 获取秒数，例如 56
                        // 如果你想以特定格式显示日期和时间，可以使用以下方法
                        var formattedDateTime = date.toLocaleString(); // 使用本地格式显示日期和时间
                        $(".content-it").append(`
                            <a href="/blog.html?id=${urlid}" style="text-decoration: none;">
                                <div class="card mb-3">
                                    <div class="row g-0">
                                        <div class="col-md-4">
                                            <img src="${urlname}" class="img-fluid rounded-start" alt="..." id="indeximg">
                                        </div>
                                        <div class="col-md-8">
                                            <div class="card-body">
                                                <h5 class="card-title">${title}</h5>
                                                <p class="card-text">${desc}</p>
                                                <p class="card-text"><small class="text-muted">作者：${auto}
                                                        发布时间：${formattedDateTime}</small>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>

                        `)

                    });
                }
            )
        })
    </script>
</body>

</html>